import{a as G}from"./chunk-QBWCAETO.js";import{c as f,d as v}from"./chunk-5UV6QQHW.js";import{a as S}from"./chunk-FGVEOLCQ.js";import{b as p,d as h,f as F,h as C,i as b,k as y}from"./chunk-ZKJLGRTU.js";import{a as w}from"./chunk-DBFY6N4R.js";import"./chunk-BUMFG4TH.js";import{a as k}from"./chunk-YAG5TTVO.js";import{$a as i,Ja as g,Y as n,Za as m,_a as o,ab as s,ga as u,ib as c,sb as l,za as a}from"./chunk-PZ3LDO2P.js";var P=class d{loginForm;fb=n(b);authService=n(G);router=n(f);destroyRef=n(u);ngOnInit(){this.initFormGroups()}login(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let{email:r,password:e}=this.loginForm.getRawValue();this.authService.login({email:r,password:e}).pipe(w(this.destroyRef)).subscribe(t=>{this.router.navigate(["/find-route"])})}initFormGroups(){this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required]]})}getControl(r,e){return r?.get(e)}static \u0275fac=function(e){return new(e||d)};static \u0275cmp=g({type:d,selectors:[["pathfinder-login-page"]],decls:15,vars:3,consts:[[1,"login-wrapper"],[1,"center-box"],[1,"form-container",3,"formGroup"],[1,"form-field-container"],["label","Email","type","email",3,"control"],["label","Password","type","password",3,"control"],[1,"submit-container"],["text","Log In",3,"onClick"],[1,"link-text"],["routerLink","/registration"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Welcome Back"),i(),o(4,"form",2)(5,"div",3),s(6,"pathfinder-input",4),i(),o(7,"div",3),s(8,"pathfinder-input",5),i(),o(9,"div",6)(10,"pathfinder-button",7),c("onClick",function(){return t.login()}),i()()(),o(11,"div",8),l(12," Don't have an account? "),o(13,"a",9),l(14,"Register"),i()()()()),e&2&&(a(4),m("formGroup",t.loginForm),a(2),m("control",t.getControl(t.loginForm,"email")),a(2),m("control",t.getControl(t.loginForm,"password")))},dependencies:[S,k,y,F,h,C,v],encapsulation:2})};export{P as LoginPageComponent};
