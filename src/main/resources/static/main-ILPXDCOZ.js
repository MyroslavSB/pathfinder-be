import{a as O,b as C,c as s,f as A}from"./chunk-5UV6QQHW.js";import{a as S}from"./chunk-GJQ7G6I7.js";import{a as k}from"./chunk-YHGPMJPH.js";import{a as M}from"./chunk-WDP3IY4R.js";import"./chunk-BUMFG4TH.js";import{$a as z,Ab as y,C as r,Ja as I,O as h,W as l,Y as o,Yb as E,_a as b,ab as v,e as R,ja as f,ka as g,n as d,o as n,s as i}from"./chunk-PZ3LDO2P.js";var m=()=>{let e=o(M),a=o(s);return e.get("/api/auth/me").pipe(i(t=>t?!0:(a.navigate(["/login"]),!1)),r(()=>(a.navigate(["/login"]),n(!1))))};var P=()=>{let e=o(k),a=o(s),t=()=>a.parseUrl("/location-required");return e.isSupported()?"permissions"in navigator?d(navigator.permissions.query({name:"geolocation"})).pipe(h(c=>c.state==="denied"?n(t()):e.getCurrentPosition().pipe(i(()=>!0),r(()=>n(t())))),r(()=>n(t()))):e.getCurrentPosition().pipe(i(()=>!0),r(()=>n(t()))):t()};var L=[{path:"login",loadComponent:()=>import("./chunk-GDCIZIND.js").then(e=>e.LoginPageComponent)},{path:"registration",loadComponent:()=>import("./chunk-LEQO53ZF.js").then(e=>e.RegistrationPageComponent)},{path:"location-required",loadComponent:()=>import("./chunk-BMX7CSVC.js").then(e=>e.LocationRequiredPageComponent)},{path:"",canActivate:[m],loadComponent:()=>import("./chunk-OMBJJZ7L.js").then(e=>e.LayoutPageComponent),children:[{path:"",redirectTo:"find-route",pathMatch:"full"},{path:"find-route",canActivate:[m,P],loadComponent:()=>import("./chunk-XKWPRBQ2.js").then(e=>e.FindRoutePageComponent)},{path:"profile",canActivate:[m],loadComponent:()=>import("./chunk-BQH5YS5Q.js").then(e=>e.ProfilePageComponent)}]},{path:"**",redirectTo:""}];var u=R(S(),1);var x=new l("MapboxApiKey");function T(e){return{provide:x,useValue:e.accessToken}}var D={providers:[f(),y({eventCoalescing:!0}),E(),A(L),T({accessToken:"pk.eyJ1IjoibXlyb3NsYXYtc2IiLCJhIjoiY21manU4d3B1MDZ4aDJpczkxbGkybHEyeSJ9.gDxEBY76csHtpQ3YMKjpjQ"})]};var p=class e{title=g("pathfinder-fe");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=I({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"wrapper"]],template:function(t,c){t&1&&(b(0,"div",0),v(1,"router-outlet"),z())},dependencies:[C],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;height:100vh;background:#081227;display:flex;justify-content:center;align-items:center}"]})};O(p,D).catch(e=>console.error(e));
