import{c as C}from"./chunk-5UV6QQHW.js";import{a as v}from"./chunk-YHGPMJPH.js";import{a as x}from"./chunk-DBFY6N4R.js";import{a as h}from"./chunk-YAG5TTVO.js";import{$a as t,Ja as l,Na as m,Pb as q,Y as r,Za as p,_a as i,ga as u,ib as d,kb as f,sb as s,ub as g,za as a}from"./chunk-PZ3LDO2P.js";function R(o,n){if(o&1&&(i(0,"p",3),s(1),t()),o&2){let e=f();a(),g(" ",e.errorMessage," ")}}var y=class o{geoService=r(v);router=r(C);destroyRef=r(u);requesting=!1;errorMessage="";requestLocation(){this.requesting=!0,this.errorMessage="",this.geoService.getCurrentPosition().pipe(x(this.destroyRef)).subscribe({next:()=>{this.router.navigate(["/find-route"])},error:n=>{this.requesting=!1,this.errorMessage=n||"Location access is required to continue"}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=l({type:o,selectors:[["app-location-required-page"]],decls:7,vars:2,consts:[[1,"center-box"],[3,"onClick","text"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,c){e&1&&(i(0,"div",0)(1,"h2"),s(2,"\u{1F4CD} Location Required"),t(),i(3,"p"),s(4," Pathfinder needs your location to find routes near you. Please enable location access to continue. "),t(),i(5,"pathfinder-button",1),d("onClick",function(){return c.requestLocation()}),t(),m(6,R,2,1,"p",2),t()),e&2&&(a(5),p("text",c.requesting?"Requesting location\u2026":"Enable location"),a(),p("ngIf",c.errorMessage))},dependencies:[h,q],encapsulation:2})};export{y as LocationRequiredPageComponent};
