import{T as c,h as i,l as a}from"./chunk-PZ3LDO2P.js";var u=class t{position$=new a(null);watchId=null;isSupported(){return"geolocation"in navigator}getCurrentPosition(o={enableHighAccuracy:!0,timeout:1e4,maximumAge:0}){return new i(e=>{if(!this.isSupported()){e.error("Geolocation not supported");return}navigator.geolocation.getCurrentPosition(r=>{let n=this.mapPosition(r);this.position$.next(n),e.next(n),e.complete()},r=>e.error(this.mapError(r)),o)})}mapPosition(o){return{timestamp:o.timestamp,coords:{latitude:o.coords.latitude,longitude:o.coords.longitude,accuracy:o.coords.accuracy,altitude:o.coords.altitude,speed:o.coords.speed,heading:o.coords.heading}}}mapError(o){switch(o.code){case o.PERMISSION_DENIED:return"Location permission denied";case o.POSITION_UNAVAILABLE:return"Location unavailable";case o.TIMEOUT:return"Location request timed out";default:return"Unknown location error"}}static \u0275fac=function(e){return new(e||t)};static \u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})};export{u as a};
